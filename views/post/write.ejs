<% if(!validated) {%>
    <script type="text/javascript">
        alert("<%= lang('user')['loginInvalid'] %>");
        location.href = "/user";
    </script>
<% } %>
<!DOCTYPE html>
<html>
    <head>
        <title><%= lang('pageTitles')['user'] %></title>
        <%- include(viewDir('./_head')) %>
        <script src="//cdn.quilljs.com/1.3.6/quill.min.js"></script>
        <link href="//cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
        <link href="//cdn.quilljs.com/1.3.6/quill.bubble.css" rel="stylesheet">
        <script type="text/javascript">
            $(document).ready(function () {
                const Font = Quill.import('formats/font')
                Font.whitelist = [
                    '고운바탕',
                    '바른바탕',
                    '우주',
                    '인천교육자람',
                    '바른돋움']
                Quill.register(Font, true);

                Size = Quill.import('attributors/style/size')
                Size.whitelist = [
                    '8px', '9px', '10px', '11px', '12px', '13px', '14px', '16px', '20px', '24px', '32px'
                ]
                Quill.register(Size, true)

                const editor = new Quill('#editor', {
                    debug: 'info',
                    modules: {
                        toolbar: '#toolbar',
                        history: {
                            delay: 500,
                            maxStack: 100,
                            userOnly: true,
                        }
                    },
                    placeholder: '글쓰기',
                    theme: 'snow'
                });
            })
        </script>
    </head>
    <body>
        <div class="wrapper">
            <%- include(viewDir('./_navbar')) %>
            <div id="content" class="container-fluid">
                <header><h2 id="pageTitle"><%= lang('pageTitles')['user'] %></h2></header>
                <article>
                    <div class="container-md">
                        <div id="outer" style="display: flex">
                            <section id="s1">
                                <div id="inner">
                                    <div id="name" class="row">
                                        <div class="col-sm-8"><span style="font-family: 'BKKGothic Bold'; font-size: 1.4em;">어디어디에</span> 글쓰기</div>
                                    </div>
                                    <hr>
                                    <div id="username">
                                        <div class="input-group mb-3">
                                            <span class="input-group-text" id="name0"><%= stylingEmojis.NAME %></span>
                                            <input type="text" id="name" name="name" readonly class="form-control" placeholder="<%= lang('user')['register']['placeholder_name'] %>" aria-label="<%= lang('user')['register']['placeholder_name'] %>" value="<%= user.name %>" aria-describedby="name0" />
                                        </div>
                                        <div class="input-group mb-3">
                                            <span class="input-group-text" id="username0"><%= stylingEmojis.USERNAME %></span>
                                            <input type="text" id="username" name="username" readonly class="form-control" placeholder="<%= lang('user')['register']['placeholder_username'] %>" aria-label="<%= lang('user')['register']['placeholder_username'] %>" value="<%= user.username %>" aria-describedby="username0" />
                                        </div>
                                    </div>
                                    <div id="code">
                                        <form name="codeCheckForm" id="codeCheckForm">
                                            <div class="input-group mb-3">
                                                <span class="input-group-text" id="code0"><%= stylingEmojis.CODE %></span>
                                                <input type="number" id="code" name="code" class="form-control" placeholder="<%= lang('user')['index']['code'] %>" aria-label="<%= lang('user')['index']['code'] %>" aria-describedby="code0" />
                                            </div>
                                            <input class="btn btn-info" id="submitBtn2" type="button" value="<%= lang('user')['index']['code_confirm'] %>" />
                                        </form>
                                    </div>
                                </div>
                            </section>
                            <section id="s2">
                                <div id="toolbar">
                                    <span class="ql-formats">
                                        <select class="ql-font">
                                            <option selected>기본 서체</option>
                                            <option value="고운바탕">고운바탕</option>
                                            <option value="바른바탕">바른바탕</option>
                                            <option value="우주">우주</option>
                                            <option value="인천교육자람">인천교육자람</option>
                                            <option value="바른돋움">바른돋움</option>
                                        </select>
                                        <select class="ql-size"></select>
                                    </span>
                                    <span class="ql-formats">
                                        <button class="ql-bold"></button>
                                        <button class="ql-italic"></button>
                                        <button class="ql-underline"></button>
                                        <button class="ql-strike"></button>
                                    </span>
                                    <span class="ql-formats">
                                        <select class="ql-color"></select>
                                        <select class="ql-background"></select>
                                    </span>
                                    <span class="ql-formats">
                                        <button class="ql-blockquote"></button>
                                        <button class="ql-code-block"></button>
                                    </span>
                                    <span class="ql-formats">
                                        <button class="ql-header" value="1"></button>
                                        <button class="ql-header" value="2"></button>
                                    </span>
                                    <span class="ql-formats">
                                        <button class="ql-list" value="ordered"></button>
                                        <button class="ql-list" value="bullet"></button>
                                        <button class="ql-indent" value="-1"></button>
                                        <button class="ql-indent" value="+1"></button>
                                    </span>
                                    <span class="ql-formats">
                                        <button class="ql-direction" value="rtl"></button>
                                        <select class="ql-align"></select>
                                    </span>
                                    <span class="ql-formats">
                                        <button class="ql-script" value="sub"></button>
                                        <button class="ql-script" value="super"></button>
                                    </span>
                                    <span class="ql-formats">
                                        <button class="ql-clean"></button>
                                    </span>     
                                    <span class="ql-formats">
                                        <button class="ql-link"></button>
                                        <button class="ql-image"></button>
                                        <button class="ql-video"></button>
                                        <button class="ql-formula"></button>
                                    </span>                                            
                                </div>
                                <div id="editor"></div>
                            </section>
                        </div>
                    </div>
                    <div>&nbsp;</div>
                </article>
                <%- include(viewDir("./aside/index")) %>
            </div>
        </div>
        <%- include(viewDir('./.footer')) %>
    </body>
    <%- include(viewDir('./_bottom')) %>
</html>